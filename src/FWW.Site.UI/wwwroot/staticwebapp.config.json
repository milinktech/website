{
    "$schema": "https://json.schemastore.org/staticwebapp.config.json",
    "routes": [
        {
            "route": "/api/*",
            "allowedRoles": [
                "anonymous"
            ]
        }
    ],
    "navigationFallback": {
        "rewrite": "/index.html",
        "exclude": [
            "/api/*",
            "/_framework/*",
            "/css/*",
            "/*.ico",
            "/*.png",
            "/*.svg"
        ]
    },
    "responseOverrides": {
        "401": {
            "redirect": "/.auth/login/aad",
            "statusCode": 302
        }
    },
    "auth": {
        "identityProviders": {
            "azureActiveDirectory": {
                "registration": {
                    "openIdIssuer": "https://login.microsoftonline.com/6f8badce-2cf0-4d77-b94c-d2c4a58b7af0/v2.0",
                    "clientIdSettingName": "AAD_CLIENT_ID",
                    "clientSecretSettingName": "AAD_CLIENT_SECRET"
                }
            }
        }
    },
    "platform": {
        "apiRuntime": "dotnet-isolated:8.0"
    },
    "globalHeaders": {
        "X-Content-Type-Options": "nosniff",
        "X-Frame-Options": "SAMEORIGIN",
        "Content-Security-Policy": "default-src 'self'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; img-src 'self' data: blob: https://*.ytimg.com https://*.google.com https://*.gstatic.com; script-src 'self' 'unsafe-inline' 'wasm-unsafe-eval'; media-src 'self' https://*.blob.core.windows.net; frame-src https://*.youtube.com https://*.youtube-nocookie.com https://www.google.com https://maps.google.com;"
    }
}